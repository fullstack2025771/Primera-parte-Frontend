<section class="container row d-flex ">


  @for (product of allProduct; track product._id) {


  <div class="producto-card col-6  ">
    <h2>{{ product.title }}</h2>
    <p>{{ product.description }}</p>
    <p>{{ product.price }}</p>
    <p>{{ product.category }}</p>
    <img [src]="product.image" alt="">
    <div class="d-flex gap-4">
      <button class="btn btn-info" [routerLink]="['/actualizar', product._id]">Actualizar</button>
      <button class="btn btn-danger" (click)="deleteProduct(product._id!)">Eliminar</button>
    </div>
  </div>
  }
</section>
<hr>
<h2>{{ productSelected._id ? 'Actualizar Producto' : 'Crear Nuevo Producto' }}</h2>

<form (ngSubmit)="saveProduct()" #formProd="ngForm" class="p-3 border rounded bg-light">

  <div class="mb-3">
    <label for="title">Título:</label>
    <input type="text" id="title" [(ngModel)]="productSelected.title" name="title" class="form-control" required>
  </div>

  <div class="mb-3">
    <label for="description">Descripción:</label>
    <textarea id="description" [(ngModel)]="productSelected.description" name="description" class="form-control"
      required></textarea>
  </div>

  <div class="mb-3">
    <label for="price">Precio:</label>
    <input type="number" id="price" [(ngModel)]="productSelected.price" name="price" class="form-control" required>
  </div>

  <div class="mb-3">
    <label for="category">Categoría:</label>
    <input type="text" id="category" [(ngModel)]="productSelected.category" name="category" class="form-control"
      required>
  </div>

  <div class="mb-3">
    <label for="image">Imagen (URL):</label>
    <input type="text" id="image" [(ngModel)]="productSelected.image" name="image" class="form-control">
  </div>

  <button class="btn btn-success" type="submit">
    {{ productSelected._id ? 'Actualizar' : 'Crear' }}
  </button>

  <button class="btn btn-secondary ms-3" type="button" (click)="resetForm()">
    Limpiar
  </button>


</form>